<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8" />
        <link rel="stylesheet" href="/static/css.css">
        <link rel="icon" href="/static/imgs/icon.ico" type="image/x-icon">
        <link rel="shortcut icon" href="/static/imgs/icon.ico" type="image/x-icon">
        <title>{% block title %}{% endblock %}</title>
        <style>
            #anek-head{
                color:white;
                font: 50px 'MAXFont';
                text-align: left
            }
            .anek-main{
                background-color: #0A0000;
                color: white;
                font: 30px 'MAXFont';
                text-align: justify;
                margin-top:30px;
                margin-left:80px;
                width:700px;
                height:100%;
                padding:30px
            }
            .anek-actions {
                top: 0px;
                position: absolute;
                display: flex;
                gap: 10px;
                left:330px
            }

            .like-btn, .dislike-btn {
                padding: 8px 16px;
                font-size: 76px;
                border: none;
                border-radius: 4px;
                transition: transform 0.1s ease, box-shadow 0.1s ease;
                transform: scale(1);
                box-shadow: 0 2px 4px rgba(0,0,0,0.2);
                }

                .like-btn:active{
                    transform: scale(0.95);
                    box-shadow: 0 1px 2px rgba(0,0,0,0.2);
                    color: #DF4200
            }
            
            .dislike-btn:active {
                transform: scale(0.95);
                box-shadow: 0 1px 2px rgba(0,0,0,0.2);
                color: #626288
            }

            .like-btn {
                background-color: #0A0000;
                color: white;
            }

            .dislike-btn {
                background-color: #0A0000;
                color: white;
            }
            .like-btn:active{
                
            }
        </style>
</head>
    <body>
        
        <div class="menu-tab">
        <div class="tab-handle"></div>
        <nav class="tab-menu">
            <a class='disabled'>–ù–ê–í–ò–ì–ê–¶–ò–Ø</a>
            <a  href="/disclaimer">–î–ò–°–ö–õ–ï–ô–ú–ï–†</a>
            <a  href="/makan">–ú–∞–∫–∞–Ω</a>
            <a  href="/zapovedi">–ó–∞–ø–æ–≤–µ–¥–∏</a>
            <a  href="/fathers">–û—Ç—Ü—ã</a>
            <a  href="/gto">–ì–¢–û –ú–∞–∫—Å–∏–∑–º–∞</a>
            <a  href="/molitvi">–ú–æ–ª–∏—Ç–≤—ã</a>
            <a  href="/plani">–ü–ª–∞–Ω—ã</a>
            <a  href="/achivki">–ê—á–∏–≤–∫–∏ –ú–∞–∫—Å–∏–∑–º–∞</a>
            <a  href="/partners">–ù–∞—à–∏ –ø–∞—Ä—Ç–Ω—ë—Ä—ã</a>
            <a  href="/frendi">–ù–∞—à–∏ –î—Ä—É–∑—å—è</a>
            <a  href="/vragi">–í—Ä–∞–≥–∏</a>
            <a  href="/pozor">–î–æ—Å–∫–∞ –ø–æ–∑–æ—Ä–∞</a>
            <a  href="/hvala">–î–æ—Å–∫–∞ –ø–æ—á—ë—Ç–∞</a>
            <a  href="/party">–ß–ª–µ–Ω—ã –ø–∞—Ä—Ç–∏–∏</a>
            <a  href="/literature">–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞</a>
            <a  href="/zhidhaha">–ê–Ω–µ–∫–¥–æ—Ç—ã –ø—Ä–æ –µ–≤—Ä–µ–µ–≤</a>
        </nav>
        </div>
        <div class='head'><span id='title'>{% block head %}{% endblock %}</span></div>
        <div class='triangle'></div>
        
        <div class='anek-main'>
            {% block main %}{% endblock %}
        </div>
        <div class='anek-actions'>
            <button class='like-btn' data-anek-id="{{no}}">üî• {{likes}}</button>
            <button class='dislike-btn' data-anek-id="{{no}}">üóø {{dis}}</button>
        </div>
        <script>
document.addEventListener('DOMContentLoaded', function() {
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –ª–∞–π–∫–æ–≤
    document.querySelectorAll('.like-btn').forEach(btn => {
        btn.addEventListener('click', async function() {
            const anekId = this.dataset.anekId;
            try {
                const response = await fetch(`/like/${anekId}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });
                
                const result = await response.json();
                if (result.status === 'success') {
                    this.textContent = `üî• ${result.likes}`;
                }
            } catch (error) {
                console.error('Error:', error);
            }
        });
    });

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –¥–∏–∑–ª–∞–π–∫–æ–≤
    document.querySelectorAll('.dislike-btn').forEach(btn => {
        btn.addEventListener('click', async function() {
            const anekId = this.dataset.anekId;
            try {
                const response = await fetch(`/dislike/${anekId}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });
                
                const result = await response.json();
                if (result.status === 'success') {
                    this.textContent = `üóø ${result.dislikes}`;
                }
            } catch (error) {
                console.error('Error:', error);
            }
        });
    });
});
</script>
        <script src='/static/js.js'></script>
    </body>
</html>